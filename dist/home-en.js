!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="./",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(17)},function(module,exports){"use strict";var global={};global.douyu="douyu",global.douyuCn="斗鱼",global.douyuDefault="http://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif",global.panda="panda",global.pandaCn="熊猫",global.pandaDefault="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",global.huya="huya",global.huyaCn="虎牙",global.huyaDefault="http://assets.dwstatic.com/amkit/p/duya/common/img/default_live.jpg",global.longzhu="longzhu",global.longzhuCn="龙珠",global.longzhuDefault="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",global.zhanqi="zhanqi",global.zhanqiCn="战旗",global.zhanqiDefault="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",module.exports=global},,,function(module,exports){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _ref,pageConfig={};pageConfig.mock=!0,"3000"!=location.port&&"8080"!=location.port||(pageConfig.mock=!1),pageConfig.mockPre="http://127.0.0.1:8080/ilvon/",pageConfig.urlPre="http://120.26.87.16/",pageConfig.method="post";var DBContext=new NattyDB.Context((_ref={urlPrefix:pageConfig.mock?pageConfig.urlPre:pageConfig.mockPre,method:pageConfig.method},_defineProperty(_ref,"method","GET"),_defineProperty(_ref,"fit",function(response){return{success:!0,content:response}}),_ref));DBContext.create("Vedio",{getVedioList:{url:"Main",jsonp:!0}}),module.exports=DBContext},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(20);var Head=function(_React$Component){function Head(props){_classCallCheck(this,Head);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Head).call(this,props));return _this.state={},_this}return _inherits(Head,_React$Component),_createClass(Head,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,style={height:t.props.height+"px"};return React.createElement("div",{className:"Head",style:style})}}]),Head}(React.Component);module.exports=Head},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(5)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(21);var Img=function(_React$Component){function Img(props){_classCallCheck(this,Img);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Img).call(this,props));return _this.state={},_this}return _inherits(Img,_React$Component),_createClass(Img,[{key:"componentDidMount",value:function(){var t=this;t._calculateImgWidth()}},{key:"componentWillReceiveProps",value:function(nextProps){var t=this;t._calculateImgWidth(nextProps)}},{key:"_calculateImgWidth",value:function(props){var t=this;props||(props=t.props);for(var key in props)if("parentStyle"==key){var width=props[key].width.replace("px",""),counts=Math.round(width/300),imgWidth=void 0,imgHeight=void 0;imgWidth=1>=counts?300:Math.floor(width/counts-20),imgHeight=Math.floor(imgWidth/7*4),t.state.imgWidth=imgWidth,t.state.imgHeight=imgHeight}t.setState(t.state)}},{key:"render",value:function(){var t=this,item=t.props.item;return React.createElement("div",{className:"img",style:{width:t.state.imgWidth+"px"}},React.createElement("a",{href:t.props.href,target:"_blank"},React.createElement("img",{src:t.props.src,"data-src":t.props.dataSrc,style:{height:t.state.imgHeight+"px"}})),React.createElement("div",{className:"img-bottom"},React.createElement("div",null,React.createElement("div",{style:{width:t.state.imgWidth-70+"px"},className:"room-name"},item.room),React.createElement("div",{className:"game-type"},"英雄联盟")),React.createElement("div",null,React.createElement("i",{className:"icon icon-name"}),React.createElement("div",{style:{width:t.state.imgWidth-110+"px"},className:"room-name name"},item.name),React.createElement("div",{className:"game-type fire"},item.fire),React.createElement("i",{className:"icon icon-num"}))))}}]),Img}(React.Component);module.exports=Img},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(7)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(22);var global=__webpack_require__(1),menuJson=[{name:global.douyuCn,code:global.douyu},{name:global.huyaCn,code:global.huya},{name:global.pandaCn,code:global.panda},{name:global.zhanqiCn,code:global.zhanqi},{name:global.longzhuCn,code:global.longzhu}],Menu=function(_React$Component){function Menu(props){_classCallCheck(this,Menu);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Menu).call(this,props));return _this.state={active:menuJson[0]},_this}return _inherits(Menu,_React$Component),_createClass(Menu,[{key:"componentDidMount",value:function(){}},{key:"itemOnClick",value:function(item){var t=this;t.props.onChange(item),t.state.active=item,t.setState(t.state)}},{key:"goTo",value:function(url){window.open(url)}},{key:"render",value:function(){var t=this;t.props.headHeight=t.props.headHeight;var style={width:t.props.width+"px",height:window.globalData.clientHeight-t.props.headHeight+"px",top:t.props.headHeight+"px"};return React.createElement("div",{className:"Menu",style:style},React.createElement("div",{className:"title"},React.createElement("span",{className:"relative"},React.createElement("i",{className:"icon"})),"直播来源"),menuJson.map(function(item){return item.code==t.state.active.code?React.createElement("div",{className:"item-active"},item.name,React.createElement("span",{className:"code"},"-",item.code)):React.createElement("div",{onClick:t.itemOnClick.bind(t,item),className:"item"},item.name,React.createElement("span",{className:"code"},"-",item.code))}),React.createElement("div",{className:"title",style:{marginTop:"10px"}},React.createElement("span",{className:"relative"},React.createElement("i",{className:"icon icon-my"})),"个人中心"),React.createElement("div",{className:"item",onClick:t.goTo.bind(t,"login.html")},"我的收藏"),React.createElement("div",{className:"item",onClick:t.goTo.bind(t,"login.html")},"设置"))}}]),Menu}(React.Component);module.exports=Menu},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(9)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(23);var Menu=__webpack_require__(10),Head=__webpack_require__(6),UiMain=function(_React$Component){function UiMain(props){_classCallCheck(this,UiMain);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UiMain).call(this,props));return _this.state={globalData:window.globalData,loadHeight:0,headHeight:50,menuWidth:240},_this}return _inherits(UiMain,_React$Component),_createClass(UiMain,[{key:"componentWillMount",value:function(){var t=this;t._resize(),$(window).resize(function(){t._resize()})}},{key:"_resize",value:function(){var t=this;t.state.globalData=window.globalData;var menuWidth=t.state.menuWidth,headHeight=t.state.headHeight,bodyStyle={};bodyStyle.width=t.state.globalData.clientWidth-(menuWidth+26)+"px",bodyStyle.left=menuWidth+26+"px",bodyStyle.height=t.state.globalData.clientHeight-(headHeight+1)+"px",bodyStyle.top=headHeight+1+"px",t.state.bodyStyle=bodyStyle,t.setState(t.state),t.props.resize(bodyStyle)}},{key:"componentDidMount",value:function(){var t=this;setTimeout(t.scroll.bind(t,"first"),1e3)}},{key:"refresh",value:function(){var t=this;$(".body").scrollTop(0),setTimeout(function(){t.scroll("first")},500)}},{key:"scroll",value:function(sign){var t=this;"first"!=sign&&t.state.loadHeight>$(".body").scrollTop()||(t.state.loadHeight=$(".body").scrollTop(),$(".main-continer").find("img").each(function(){var position=t.getElementTopLeft(this);position.top<$(".body").scrollTop()+t.state.globalData.clientHeight&&$(this).attr("src",$(this).attr("data-src"))}))}},{key:"getElementTopLeft",value:function(obj){for(var top=0,left=0;obj;)top+=obj.offsetTop,left+=obj.offsetLeft,obj=obj.offsetParent;return{top:top,left:left}}},{key:"render",value:function(){var t=this,children=React.createElement("div",{},t.props.children),bodyStyle=t.state.bodyStyle,menuWidth=t.state.menuWidth,headHeight=t.state.headHeight;return React.createElement("div",{className:"UiMain"},React.createElement(Head,{height:headHeight}),React.createElement(Menu,{width:menuWidth,headHeight:headHeight,onChange:t.props.onMenuChange.bind(t)}),React.createElement("div",{className:"body",style:bodyStyle,onScroll:t.scroll.bind(t)},React.createElement("div",{className:"main-continer"},children)))}}]),UiMain}(React.Component);module.exports=UiMain},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(11)},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(25);var DB=__webpack_require__(4),global=__webpack_require__(1),UiMain=__webpack_require__(12),Img=__webpack_require__(8),Page=function(_React$Component){function Page(props){_classCallCheck(this,Page);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Page).call(this,props));return _this.state={infos:[]},_this}return _inherits(Page,_React$Component),_createClass(Page,[{key:"componentDidMount",value:function(){var t=this,params={};params.which=global.douyu,DB.Vedio.getVedioList(params).then(function(data){t.state.infos=data,t.state["default"]=global.douyuDefault,t.setState(t.state)})}},{key:"resize",value:function(obj){var t=this;t.state.imgContinerStyle=obj,t.setState(t.state)}},{key:"handleMenuChange",value:function(item){var t=this,params={};params.which=item.code,DB.Vedio.getVedioList(params).then(function(data){t.state.infos=data,t.state["default"]=global[item.code+"Default"],t.refs.main.refresh(),t.setState(t.state)})}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"home"},React.createElement(UiMain,{ref:"main",resize:t.resize.bind(t),onMenuChange:t.handleMenuChange.bind(t)},React.createElement("div",{className:"img-continer"},t.state.infos.map(function(item){return React.createElement(Img,{parentStyle:t.state.imgContinerStyle,src:t.state["default"],dataSrc:item.img,href:item.href,item:item})}))))}}]),Page}(React.Component);ReactDOM.render(React.createElement(Page,null),document.getElementById("App")),module.exports=Page},,,function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},,function(module,exports){}]);